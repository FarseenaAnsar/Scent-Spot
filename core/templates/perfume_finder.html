{% extends 'base.html' %}

{% block extra_css %}
    <link href="static/perfume_finder.css" rel="stylesheet" type="text/css">
{% endblock %}

{% block content %}
<div class="perfume-finder-container" style="max-width: 800px; margin: 0 auto; padding: 20px; font-family: Arial, sans-serif;">
    <h2 style="text-align: center; font-size: 2rem; margin-bottom: 20px;">Find Your Perfect Perfume</h2>
    
    <form method="POST" class="perfume-finder-form" style="display: flex; flex-direction: column; gap: 15px;">
        {% csrf_token %}
        
        <div class="form-group" style="display: flex; flex-direction: column;">
            <label style="font-size: 1rem; margin-bottom: 5px;">What type of scent do you prefer?</label>
            <select name="scent_family" required style="padding: 10px; font-size: 1rem; border-radius: 5px; border: 1px solid #ccc;">
                <option value="Floral">Floral</option>
                <option value="Woody">Woody</option>
                <option value="Oriental">Oriental</option>
                <option value="Fresh">Fresh</option>
                <option value="Citrus">Citrus</option>
            </select>
        </div>

        <div class="form-group" style="display: flex; flex-direction: column;">
            <label style="font-size: 1rem; margin-bottom: 5px;">When do you plan to wear it?</label>
            <select name="occasion" required style="padding: 10px; font-size: 1rem; border-radius: 5px; border: 1px solid #ccc;">
                <option value="Casual">Casual</option>
                <option value="Formal">Formal</option>
                <option value="Evening">Evening</option>
                <option value="Office">Office</option>
            </select>
        </div>

        <div class="form-group" style="display: flex; flex-direction: column;">
            <label style="font-size: 1rem; margin-bottom: 5px;">Which season will you wear it in?</label>
            <select name="season" required style="padding: 10px; font-size: 1rem; border-radius: 5px; border: 1px solid #ccc;">
                <option value="Summer">Summer</option>
                <option value="Winter">Winter</option>
                <option value="Spring">Spring</option>
                <option value="Fall">Fall</option>
            </select>
        </div>

        <div class="form-group" style="display: flex; flex-direction: column;">
            <label style="font-size: 1rem; margin-bottom: 5px;">Preferred gender type:</label>
            <select name="gender" required style="padding: 10px; font-size: 1rem; border-radius: 5px; border: 1px solid #ccc;">
                <option value="Unisex">Unisex</option>
                <option value="Feminine">Feminine</option>
                <option value="Masculine">Masculine</option>
            </select>
        </div>

        <button type="submit" class="find-perfume-btn" style="padding: 15px; font-size: 1rem; background-color:rgb(233, 42, 42); color: white; border: none; border-radius: 5px; cursor: pointer; transition: background-color 0.3s;">
            Find My Perfume
        </button>
    </form>
</div>
    {% if recommendations %}
        <div class="recommendations" style="margin-top: 30px;">
            <h3 style="font-size: 1.5rem; text-align: center; margin-bottom: 20px;">Recommended Perfumes for You</h3>
            <div class="perfume-grid" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin: 0 10px;">
                {% for perfume in recommendations %}
                <div class="perfume-card" style="border: 1px solid #ddd; border-radius: 10px; padding: 15px; text-align: center; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); transition: transform 0.3s;">
                    <img src="{{ perfume.image.url }}" alt="{{ perfume.name }}" style="width: 100%; height: auto; border-radius: 8px;">
                    <h4 style="font-size: 1.25rem; margin-top: 10px;">{{ perfume.name }}</h4>
                    <p style="font-size: 1rem; color: #666; margin: 10px 0;">{{ perfume.description }}</p>
                    <p class="price" style="font-size: 1.2rem; font-weight: bold; color: #333;">â‚¹{{ perfume.price }}</p>
                    <a href="/products?product_id={{ product_data.product.id }}" class="view-btn" style="display: inline-block; padding: 10px 15px; background-color:rgb(239, 35, 32); color: white; text-decoration: none; border-radius: 5px; transition: background-color 0.3s;">
                        View Details
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
    {% endif %}



{% endblock %}
