{% extends "base.html" %}
{% load socialaccount %}
{% load static %}
{% block css%}
    <link href="{% static 'authentication/css/login.css' %}" rel="stylesheet" type="text/css">
{% endblock %}
{% load socialaccount %}

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

{% block content %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">

<main class="container-fluid">
    <div class="row min-vh-100">
        <!-- Left side - Image -->
        <div class="col-md-6 p-0">
            <div class="bg-image h-100" style="background-image: url('{% static 'authentication/images/login.avif' %}');
                background-size: cover;
                background-position: center;
                background-repeat: no-repeat;">
            </div>
        </div>

        <!-- Right side - Login Form -->
        <div class="col-md-6 d-flex align-items-center">
            <div class="form-box w-100 px-4">
                <div class="form-tab">
                    <ul class="nav nav-pills nav-fill mb-4" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" href="{% url 'login' %}">Sign In</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'signup' %}">Register</a>
                        </li>
                    </ul>
                    
                    <div class="tab-content">
                        <div class="tab-pane fade show active">
                            <form method="post" action="{% url 'login' %}">
                                {% csrf_token %}        
                                {% if messages %}
                                    <div class="messages">
                                        {% for message in messages %}
                                        <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}">
                                            {{ message }}
                                        </div>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            
                                {% for field in form %}
                                    <div class="form-group">
                                        {{ field.label_tag }}
                                        {{ field }}
                                        {% if field.errors %}
                                            <div class="error">
                                                {{ field.errors }}
                                            </div>
                                        {% endif %}
                                    </div>
                                {% endfor %}
                                    
                                <p>Don't have an account? <a href="{% url 'signup' %}">Sign Up</a></p>
                            </div>
                                <div class="form-footer d-flex justify-content-between align-items-center">
                                    <button type="submit" class="btn btn-outline-primary-2">
                                        <span>LOG IN</span>
                                        <i class="icon-long-arrow-right"></i>
                                    </button>
                                    <a href="{% url 'forgot_password' %}" class="forgot-link">Forgot Your Password?</a>
                                </div>
                            </form>

                            <div class="form-choice mt-4">
                                <p class="text-center">or sign in with</p>
                                <div class="d-grid">
                                    <a href="{% url 'social:begin' 'google-oauth2' %}?next={{ request.GET.next }}" class="btn btn-login btn-g">
                                        <i class="bi bi-google"></i>
                                        Login With Google
                                    </a>
                                </div><!-- End .col-6 -->
                
                            </div><!-- End .row -->
                        </div><!-- End .form-choice -->
                    </div><!-- .End .tab-pane -->
        
                </div><!-- End .tab-content -->
            </div><!-- End .form-tab -->
        </div><!-- End .form-box -->
    </div><!-- End .container -->
    </div><!-- End .login-page section-bg -->
</main>

{% endblock %}